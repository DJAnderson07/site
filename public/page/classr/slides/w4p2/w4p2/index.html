<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>More on tidy data</title>
  <meta property="og:title" content="More on tidy data" />
  <meta name="twitter:title" content="More on tidy data" />
  <meta name="description" content="em { font-style: italic }   strong { font-weight: bold; }  Agenda  Review and discuss tidy data in more depth Practice tidying data  Reasons to prefer tidy data  More efficient storage and retrieval More scalable The tidyverse of tools will work much more efficiently  Read in the hiv data  Make some manipulations (just dplyr variety) to make the data look like the below.">
  <meta property="og:description" content="em { font-style: italic }   strong { font-weight: bold; }  Agenda  Review and discuss tidy data in more depth Practice tidying data  Reasons to prefer tidy data  More efficient storage and retrieval More scalable The tidyverse of tools will work much more efficiently  Read in the hiv data  Make some manipulations (just dplyr variety) to make the data look like the below.">
  <meta name="twitter:description" content="em { font-style: italic }   strong { font-weight: bold; }  Agenda  Review and discuss tidy data in more depth Practice tidying data  Reasons to prefer tidy data  More efficient storage and retrieval â€¦">
  <meta name="author" content="Daniel Anderson"/>
  <meta property="og:image" content="/img/scatter.png" />
  <meta name="twitter:image" content="/img/scatter.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@DJAnderson_07" />
  <meta name="twitter:creator" content="@DJAnderson_07" />
  <meta property="og:url" content="/page/classr/slides/w4p2/w4p2/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Data Science in Education" />

  <meta name="generator" content="Hugo 0.24.1" />
  <link rel="canonical" href="/page/classr/slides/w4p2/w4p2/" />
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Data Science in Education">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="/css/pygment_highlights.css" />
  <link rel="stylesheet" href="/css/highlight.min.css" />




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Data Science in Education</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" href="javascript:void(0)">esvis</a>
              <div class="navlinks-children">
                
                  <a href="/post/esvis-part-1">Introduction to the esvis package</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" href="javascript:void(0)">Vita</a>
              <div class="navlinks-children">
                
                  <a href="/page/conference_pres">conference presentations</a>
                
                  <a href="/page/publications">publications</a>
                
                  <a href="/page/software">software</a>
                
                  <a href="/page/teaching">teaching</a>
                
              </div>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Data Science in Education" href="/">
            <img class="avatar-img" src="/img/scatter.png" alt="Data Science in Education" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="page-heading">
              <h1>More on tidy data</h1>
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<style>
em {
  font-style: italic
}
</style>

<style>
strong {
  font-weight: bold;
}
</style>

<h2 id="agenda">Agenda</h2>

<ul>
<li>Review and discuss tidy data in more depth</li>
<li>Practice tidying data</li>
</ul>

<hr />

<h2 id="reasons-to-prefer-tidy-data">Reasons to prefer tidy data</h2>

<ul>
<li>More efficient storage and retrieval</li>
<li>More scalable</li>
<li>The <em>tidyverse</em> of tools will work much more efficiently</li>
</ul>

<hr />

<h2 id="read-in-the-hiv-data">Read in the hiv data</h2>

<ul>
<li>Make some manipulations (just dplyr variety) to make the data look like the below.</li>
<li>Are these data tidy?</li>
<li>How would you add a new variable - say, percent aids?</li>
<li>Discuss how you would transform these data, if at all.</li>
</ul>

<pre><code>## # A tibble: 3 x 5
##         country      x1979 x1989 x1999 x2009
##           &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1        France         NA  &lt;NA&gt;   0.3   0.4
## 2  South Africa         NA  &lt;NA&gt;  14.8  17.2
## 3 United States 0.03176408  &lt;NA&gt;   0.5   0.6
</code></pre>

<hr />

<h2 id="how-do-we-tidy-these-data">How do we tidy these data?</h2>

<ul>
<li>Use the <code>gather()</code> function from <em>tidyr</em></li>
</ul>

<pre><code class="language-r">hiv_tidy &lt;- hiv %&gt;% 
    gather(year, percentage, -1)
hiv_tidy
</code></pre>

<pre><code>## # A tibble: 12 x 3
##          country  year  percentage
##            &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;
##  1        France x1979        &lt;NA&gt;
##  2  South Africa x1979        &lt;NA&gt;
##  3 United States x1979 0.031764078
##  4        France x1989        &lt;NA&gt;
##  5  South Africa x1989        &lt;NA&gt;
##  6 United States x1989        &lt;NA&gt;
##  7        France x1999         0.3
##  8  South Africa x1999        14.8
##  9 United States x1999         0.5
## 10        France x2009         0.4
## 11  South Africa x2009        17.2
## 12 United States x2009         0.6
</code></pre>

<hr />

<h2 id="how-does-the-gather-function-work">How does the gather function work?</h2>

<div align = "center">
<img src = ../assets/img/gather.png width = 1000 height = 550>
</div>

<hr />

<h2 id="pop-quiz">Pop quiz</h2>

<ul>
<li>What would have happened if I didn&rsquo;t use <code>-1</code> to define the columns to gather?</li>
</ul>

<hr />

<h2 id="country-is-part-of-the-gather">Country is part of the gather</h2>

<pre><code class="language-r">hiv %&gt;% 
    gather(year, percentage)
</code></pre>

<pre><code>## # A tibble: 15 x 2
##       year    percentage
##      &lt;chr&gt;         &lt;chr&gt;
##  1 country        France
##  2 country  South Africa
##  3 country United States
##  4   x1979          &lt;NA&gt;
##  5   x1979          &lt;NA&gt;
##  6   x1979   0.031764078
##  7   x1989          &lt;NA&gt;
##  8   x1989          &lt;NA&gt;
##  9   x1989          &lt;NA&gt;
## 10   x1999           0.3
## 11   x1999          14.8
## 12   x1999           0.5
## 13   x2009           0.4
## 14   x2009          17.2
## 15   x2009           0.6
</code></pre>

<hr />

<h2 id="declaring-columns-to-gather">Declaring columns to gather</h2>

<ul>
<li>I could have declared the columns to gather other ways. The important part is just being clear which columns should be part of the gather. All of the below are equivalent</li>
</ul>

<pre><code class="language-r">hiv %&gt;% 
    gather(year, percentage, -1)
</code></pre>

<pre><code class="language-r">hiv %&gt;% 
    gather(year, percentage, x1979, x1989, x1999, x2009)
</code></pre>

<pre><code class="language-r">hiv %&gt;% 
    gather(year, percentage, x1979:x2009)
</code></pre>

<pre><code class="language-r">hiv %&gt;% 
    gather(year, percentage, -country)
</code></pre>

<hr />

<h2 id="lord-of-the-rings">Lord of the Rings</h2>

<p>Example from Jenny Bryan.</p>

<p>See <a href="https://github.com/datacarpentry/archive-datacarpentry/tree/master/lessons/tidy-data">https://github.com/datacarpentry/archive-datacarpentry/tree/master/lessons/tidy-data</a></p>

<hr />

<h2 id="untidy-tables">Untidy tables</h2>

<p>Fellowship</p>

<table>
<thead>
<tr>
<th align="left">Race</th>
<th align="right">Female</th>
<th align="right">Male</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Elf</td>
<td align="right">1229</td>
<td align="right">971</td>
</tr>

<tr>
<td align="left">Hobbit</td>
<td align="right">14</td>
<td align="right">3644</td>
</tr>

<tr>
<td align="left">Human</td>
<td align="right">0</td>
<td align="right">1995</td>
</tr>
</tbody>
</table>

<p><br></p>

<p>Two Towers</p>

<table>
<thead>
<tr>
<th align="left">Race</th>
<th align="right">Female</th>
<th align="right">Male</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Elf</td>
<td align="right">331</td>
<td align="right">513</td>
</tr>

<tr>
<td align="left">Hobbit</td>
<td align="right">0</td>
<td align="right">2463</td>
</tr>

<tr>
<td align="left">Human</td>
<td align="right">401</td>
<td align="right">3589</td>
</tr>
</tbody>
</table>

<p>Return of the King</p>

<table>
<thead>
<tr>
<th align="left">Race</th>
<th align="right">Female</th>
<th align="right">Male</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Elf</td>
<td align="right">183</td>
<td align="right">510</td>
</tr>

<tr>
<td align="left">Hobbit</td>
<td align="right">2</td>
<td align="right">2673</td>
</tr>

<tr>
<td align="left">Human</td>
<td align="right">268</td>
<td align="right">2459</td>
</tr>
</tbody>
</table>

<ul>
<li>This is a great format for seeing the data</li>
<li>Hard to pull information

<ul>
<li>What&rsquo;s the total number of words spoken by male hobbits?</li>
<li>Does one Race dominate? Does  dominant Race differ by movie?</li>
</ul></li>
<li>Could you address these same questions with 27 movies? (one table per movie)</li>
</ul>

<hr />

<h2 id="tidy-representation">Tidy representation</h2>

<pre><code class="language-r">lotr_tidy
</code></pre>

<pre><code>##                          Film   Race Gender Words
## 1  The Fellowship Of The Ring    Elf Female  1229
## 2  The Fellowship Of The Ring    Elf   Male   971
## 3  The Fellowship Of The Ring Hobbit Female    14
## 4  The Fellowship Of The Ring Hobbit   Male  3644
## 5  The Fellowship Of The Ring  Human Female     0
## 6  The Fellowship Of The Ring  Human   Male  1995
## 7              The Two Towers    Elf Female   331
## 8              The Two Towers    Elf   Male   513
## 9              The Two Towers Hobbit Female     0
## 10             The Two Towers Hobbit   Male  2463
## 11             The Two Towers  Human Female   401
## 12             The Two Towers  Human   Male  3589
## 13     The Return Of The King    Elf Female   183
## 14     The Return Of The King    Elf   Male   510
## 15     The Return Of The King Hobbit Female     2
## 16     The Return Of The King Hobbit   Male  2673
## 17     The Return Of The King  Human Female   268
## 18     The Return Of The King  Human   Male  2459
</code></pre>

<p>Much simpler to answer the questions on the previous slide. Let&rsquo;s do so. First, read in the &ldquo;lotr_tidy.csv&rdquo; file, then try to address the questions on the previous slide</p>

<hr />

<p>What&rsquo;s the total number of words spoken by male hobbits?</p>

<pre><code class="language-r">library(tidyverse)
lotr_tidy %&gt;% 
    filter(Gender == &quot;Male&quot; &amp; Race == &quot;Hobbit&quot;) %&gt;% 
    summarize(tot_words = sum(Words))
</code></pre>

<pre><code>##   tot_words
## 1      8780
</code></pre>

<hr />

<p>Does a certain Race Dominate a movie?</p>

<pre><code class="language-r">lotr_tidy %&gt;% 
    group_by(Race) %&gt;% 
    summarize(tot_words = sum(Words))
</code></pre>

<pre><code>## # A tibble: 3 x 2
##     Race tot_words
##   &lt;fctr&gt;     &lt;dbl&gt;
## 1    Elf      3737
## 2 Hobbit      8796
## 3  Human      8712
</code></pre>

<hr />

<p>Does the dominant Race differ by movie?</p>

<pre><code class="language-r">lotr_tidy %&gt;% 
    group_by(Film, Race) %&gt;% 
    summarize(tot_words = sum(Words))
</code></pre>

<pre><code>## # A tibble: 9 x 3
## # Groups:   Film [?]
##                         Film   Race tot_words
##                       &lt;fctr&gt; &lt;fctr&gt;     &lt;dbl&gt;
## 1 The Fellowship Of The Ring    Elf      2200
## 2 The Fellowship Of The Ring Hobbit      3658
## 3 The Fellowship Of The Ring  Human      1995
## 4             The Two Towers    Elf       844
## 5             The Two Towers Hobbit      2463
## 6             The Two Towers  Human      3990
## 7     The Return Of The King    Elf       693
## 8     The Return Of The King Hobbit      2675
## 9     The Return Of The King  Human      2727
</code></pre>

<hr />

<h2 id="plot-answers-to-this-second-set-of-questions">Plot answers to this second set of questions</h2>

<pre><code class="language-r">pd &lt;- lotr_tidy %&gt;% 
    group_by(Film, Race) %&gt;% 
    summarize(tot_words = sum(Words)) 

ggplot(pd, aes(Film, tot_words, fill = Race)) +
    geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) 
</code></pre>

<p><img src="../assets/fig/plot_tidy_lotr-1.png" alt="plot of chunk plot_tidy_lotr" /></p>

<hr />

<h2 id="let-s-go-back-a-bit">Let&rsquo;s go back a bit&hellip;</h2>

<p>Import each table separately, and staple them together with <code>bind_rows</code></p>

<pre><code class="language-r">library(rio)
fellowship &lt;- import(&quot;../../data/fellowship.csv&quot;, setclass = &quot;tbl_df&quot;)
ttowers &lt;- import(&quot;../../data/two_towers.csv&quot;, setclass = &quot;tbl_df&quot;)
rking &lt;- import(&quot;../../data/return_king.csv&quot;, setclass = &quot;tbl_df&quot;)

lotr &lt;- bind_rows(fellowship, ttowers, rking)
lotr
</code></pre>

<pre><code>## # A tibble: 9 x 3
##     Race Female  Male
##    &lt;chr&gt;  &lt;int&gt; &lt;int&gt;
## 1    Elf   1229   971
## 2 Hobbit     14  3644
## 3  Human      0  1995
## 4    Elf    331   513
## 5 Hobbit      0  2463
## 6  Human    401  3589
## 7    Elf    183   510
## 8 Hobbit      2  2673
## 9  Human    268  2459
</code></pre>

<hr />

<h1 id="are-these-data-tidy-what-do-we-need-to-do">Are these data tidy? What do we need to do?</h1>

<hr />

<h2 id="gather"><code>gather</code></h2>

<pre><code class="language-r">lotr %&gt;% 
    gather(gender, word_count, -1)    
</code></pre>

<pre><code>## # A tibble: 18 x 3
##      Race gender word_count
##     &lt;chr&gt;  &lt;chr&gt;      &lt;int&gt;
##  1    Elf Female       1229
##  2 Hobbit Female         14
##  3  Human Female          0
##  4    Elf Female        331
##  5 Hobbit Female          0
##  6  Human Female        401
##  7    Elf Female        183
##  8 Hobbit Female          2
##  9  Human Female        268
## 10    Elf   Male        971
## 11 Hobbit   Male       3644
## 12  Human   Male       1995
## 13    Elf   Male        513
## 14 Hobbit   Male       2463
## 15  Human   Male       3589
## 16    Elf   Male        510
## 17 Hobbit   Male       2673
## 18  Human   Male       2459
</code></pre>

<hr />

<h2 id="challenge">Challenge</h2>

<ul>
<li>We&rsquo;ve lost the film that these data come from. Try to recreate the dataset with a <em>film</em> variable.</li>
</ul>

<hr />

<pre><code class="language-r">fellowship &lt;- mutate(fellowship, film = &quot;Fellowship&quot;)
ttowers &lt;- mutate(ttowers, film = &quot;Two Towers&quot;)
rking &lt;- mutate(rking, film = &quot;Return King&quot;)

lotr &lt;- bind_rows(fellowship, ttowers, rking)

lotr &lt;- lotr %&gt;% 
    gather(gender, word_count, Female:Male) 
lotr
</code></pre>

<pre><code>## # A tibble: 18 x 4
##      Race        film gender word_count
##     &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;      &lt;int&gt;
##  1    Elf  Fellowship Female       1229
##  2 Hobbit  Fellowship Female         14
##  3  Human  Fellowship Female          0
##  4    Elf  Two Towers Female        331
##  5 Hobbit  Two Towers Female          0
##  6  Human  Two Towers Female        401
##  7    Elf Return King Female        183
##  8 Hobbit Return King Female          2
##  9  Human Return King Female        268
## 10    Elf  Fellowship   Male        971
## 11 Hobbit  Fellowship   Male       3644
## 12  Human  Fellowship   Male       1995
## 13    Elf  Two Towers   Male        513
## 14 Hobbit  Two Towers   Male       2463
## 15  Human  Two Towers   Male       3589
## 16    Elf Return King   Male        510
## 17 Hobbit Return King   Male       2673
## 18  Human Return King   Male       2459
</code></pre>

<hr />

<h2 id="alternative-method">Alternative method</h2>

<ul>
<li>The <code>bind_rows</code> function includes an optional <code>.id</code> argument. Try it!</li>
</ul>

<pre><code class="language-r">fellowship &lt;- import(&quot;../../data/fellowship.csv&quot;, setclass = &quot;tbl_df&quot;)
ttowers &lt;- import(&quot;../../data/two_towers.csv&quot;, setclass = &quot;tbl_df&quot;)
rking &lt;- import(&quot;../../data/return_king.csv&quot;, setclass = &quot;tbl_df&quot;)

lotr2 &lt;- bind_rows(fellowship, ttowers, rking, .id = &quot;dataset&quot;)
lotr2
</code></pre>

<pre><code>## # A tibble: 9 x 4
##   dataset   Race Female  Male
##     &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;
## 1       1    Elf   1229   971
## 2       1 Hobbit     14  3644
## 3       1  Human      0  1995
## 4       2    Elf    331   513
## 5       2 Hobbit      0  2463
## 6       2  Human    401  3589
## 7       3    Elf    183   510
## 8       3 Hobbit      2  2673
## 9       3  Human    268  2459
</code></pre>

<hr />

<h2 id="recode-dataset-to-correspond">Recode dataset to correspond</h2>

<pre><code class="language-r">lotr2 %&gt;% 
  mutate(dataset = ifelse(dataset == 1, &quot;fellowship&quot;, 
                          ifelse(dataset == 2, &quot;two towers&quot;,
                                 &quot;return of the king&quot;)))
</code></pre>

<pre><code>## # A tibble: 9 x 4
##              dataset   Race Female  Male
##                &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;
## 1         fellowship    Elf   1229   971
## 2         fellowship Hobbit     14  3644
## 3         fellowship  Human      0  1995
## 4         two towers    Elf    331   513
## 5         two towers Hobbit      0  2463
## 6         two towers  Human    401  3589
## 7 return of the king    Elf    183   510
## 8 return of the king Hobbit      2  2673
## 9 return of the king  Human    268  2459
</code></pre>

<hr />

<h2 id="dplyr-version">dplyr version</h2>

<ul>
<li>I personally prefer <code>base::ifelse</code> to <code>dplyr::recode</code>, but I&rsquo;d be remiss if I didn&rsquo;t at least mention it</li>
</ul>

<pre><code class="language-r">lotr2 %&gt;% 
  mutate(dataset = recode(dataset, 
                            &quot;1&quot; = &quot;fellowship&quot;, 
                            &quot;2&quot; = &quot;two towers&quot;,
                            &quot;3&quot; = &quot;return of the king&quot;))
</code></pre>

<pre><code>## # A tibble: 9 x 4
##              dataset   Race Female  Male
##                &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;
## 1         fellowship    Elf   1229   971
## 2         fellowship Hobbit     14  3644
## 3         fellowship  Human      0  1995
## 4         two towers    Elf    331   513
## 5         two towers Hobbit      0  2463
## 6         two towers  Human    401  3589
## 7 return of the king    Elf    183   510
## 8 return of the king Hobbit      2  2673
## 9 return of the king  Human    268  2459
</code></pre>

<hr />

<h2 id="need-a-new-format">Need a new format?</h2>

<p>Imagine we needed a variable for each gender/Race combination (maybe for a table in a paper). We can produce this by <code>unite()</code>ing the two variables together and then spreading based on that variable.</p>

<pre><code class="language-r">lotr %&gt;% 
    unite(race_gen, Race, gender) %&gt;% 
    spread(race_gen, word_count)
</code></pre>

<pre><code>## # A tibble: 3 x 7
##          film Elf_Female Elf_Male Hobbit_Female Hobbit_Male Human_Female
## *       &lt;chr&gt;      &lt;int&gt;    &lt;int&gt;         &lt;int&gt;       &lt;int&gt;        &lt;int&gt;
## 1  Fellowship       1229      971            14        3644            0
## 2 Return King        183      510             2        2673          268
## 3  Two Towers        331      513             0        2463          401
## # ... with 1 more variables: Human_Male &lt;int&gt;
</code></pre>

<hr />

<h2 id="a-few-more-examples-follow-along">A few more examples (follow along)</h2>

<ul>
<li>Load the <em>votes.repub.csv</em> dataset.</li>
</ul>

<pre><code class="language-r">votes &lt;- import(&quot;../../data/votes.repub.csv&quot;, setclass = &quot;tbl_df&quot;)
votes
</code></pre>

<pre><code>## # A tibble: 50 x 32
##             V1 X1856 X1860 X1864 X1868 X1872 X1876 X1880 X1884 X1888 X1892
##          &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1     Alabama    NA    NA    NA 51.44 53.19 40.02 36.98 38.44 32.28  3.95
##  2      Alaska    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA
##  3     Arizona    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA
##  4    Arkansas    NA    NA    NA 53.73 52.17 39.88 39.55 40.50 38.07 32.01
##  5  California 18.77 32.96 58.63 50.24 56.38 50.88 48.92 52.08 49.95 43.76
##  6    Colorado    NA    NA    NA    NA    NA    NA 51.28 54.39 55.31 41.13
##  7 Connecticut 53.18 53.86 51.38 51.54 52.25 48.34 50.52 48.01 48.44 46.80
##  8    Delaware  2.11 23.71 48.20 40.98 50.99 44.55 47.86 42.75 43.55 48.55
##  9     Florida    NA    NA    NA    NA 53.52 50.99 45.83 46.82 39.94    NA
## 10     Georgia    NA    NA    NA 35.72 43.77 27.94 34.33 33.84 28.33 21.80
## # ... with 40 more rows, and 21 more variables: X1896 &lt;dbl&gt;, X1900 &lt;dbl&gt;,
## #   X1904 &lt;dbl&gt;, X1908 &lt;dbl&gt;, X1912 &lt;dbl&gt;, X1916 &lt;dbl&gt;, X1920 &lt;dbl&gt;,
## #   X1924 &lt;dbl&gt;, X1928 &lt;dbl&gt;, X1932 &lt;dbl&gt;, X1936 &lt;dbl&gt;, X1940 &lt;dbl&gt;,
## #   X1944 &lt;dbl&gt;, X1948 &lt;dbl&gt;, X1952 &lt;dbl&gt;, X1956 &lt;dbl&gt;, X1960 &lt;dbl&gt;,
## #   X1964 &lt;dbl&gt;, X1968 &lt;dbl&gt;, X1972 &lt;dbl&gt;, X1976 &lt;dbl&gt;
</code></pre>

<hr />

<h2 id="discuss-with-neighbor">Discuss with neighbor</h2>

<ul>
<li>What&rsquo;s the first step to tidy these data?</li>
<li>Second?</li>
</ul>

<hr />

<h2 id="step-1-name-state">Step 1: Name state</h2>

<ul>
<li>dplyr syntax</li>
</ul>

<pre><code class="language-r">votes &lt;- votes %&gt;% 
  rename(state = V1)
</code></pre>

<ul>
<li>I actually prefer base syntax for renaming, but it may be slightly less clear</li>
</ul>

<pre><code class="language-r">names(votes)[1] &lt;- &quot;state&quot;
</code></pre>

<hr />

<h2 id="step-2-gather">Step 2: <code>gather()</code></h2>

<pre><code class="language-r">votes %&gt;% 
    gather(year, approval_rating, -1)
</code></pre>

<pre><code>## # A tibble: 1,550 x 3
##          state  year approval_rating
##          &lt;chr&gt; &lt;chr&gt;           &lt;dbl&gt;
##  1     Alabama X1856              NA
##  2      Alaska X1856              NA
##  3     Arizona X1856              NA
##  4    Arkansas X1856              NA
##  5  California X1856           18.77
##  6    Colorado X1856              NA
##  7 Connecticut X1856           53.18
##  8    Delaware X1856            2.11
##  9     Florida X1856              NA
## 10     Georgia X1856              NA
## # ... with 1,540 more rows
</code></pre>

<hr />

<h2 id="clean-up-some">Clean up some</h2>

<pre><code class="language-r">votes_tidy &lt;- votes %&gt;% 
    gather(year, approval_rating, -1) %&gt;% 
    mutate(year = parse_number(year))
votes_tidy
</code></pre>

<pre><code>## # A tibble: 1,550 x 3
##          state  year approval_rating
##          &lt;chr&gt; &lt;dbl&gt;           &lt;dbl&gt;
##  1     Alabama  1856              NA
##  2      Alaska  1856              NA
##  3     Arizona  1856              NA
##  4    Arkansas  1856              NA
##  5  California  1856           18.77
##  6    Colorado  1856              NA
##  7 Connecticut  1856           53.18
##  8    Delaware  1856            2.11
##  9     Florida  1856              NA
## 10     Georgia  1856              NA
## # ... with 1,540 more rows
</code></pre>

<hr />

<h2 id="exploratory-plot">Exploratory plot</h2>

<ul>
<li>Can you plot approval ratings by year for the west coast (California, Oregon, and Washington)?</li>
<li>What do you observe?</li>
</ul>

<hr />

<h2 id="plot">Plot</h2>

<pre><code class="language-r">pd &lt;- votes_tidy %&gt;% 
  filter(state == &quot;California&quot; | 
         state == &quot;Oregon&quot; | 
         state == &quot;Washington&quot;)

theme_set(theme_light())
ggplot(pd, aes(year, approval_rating, color = state)) + 
  geom_line() 
</code></pre>

<p><img src="../assets/fig/plot1-1.png" alt="plot of chunk plot1" /></p>

<hr />

<h2 id="more-complex">More complex</h2>

<ul>
<li>Load the affairs data</li>
<li>Discuss with a partner/your table

<ul>
<li>What are the variables?</li>
<li>What needs to happen to make it tidy?</li>
</ul></li>
</ul>

<pre><code class="language-r">affairs &lt;- import(&quot;../../data/affairs.csv&quot;, setclass = &quot;tbl_df&quot;)
affairs
</code></pre>

<pre><code>## # A tibble: 601 x 19
##       V1 naffairs  kids vryunhap unhap avgmarr hapavg vryhap antirel
##    &lt;chr&gt;    &lt;int&gt; &lt;int&gt;    &lt;int&gt; &lt;int&gt;   &lt;int&gt;  &lt;int&gt;  &lt;int&gt;   &lt;int&gt;
##  1     1        0     0        0     0       0      1      0       0
##  2     2        0     0        0     0       0      1      0       0
##  3     3        3     0        0     0       0      1      0       0
##  4     4        0     1        0     0       0      1      0       1
##  5     5        3     1        0     0       0      0      1       0
##  6     6        0     1        0     0       0      0      1       0
##  7     7        0     0        0     0       1      0      0       0
##  8     8        0     0        0     0       0      0      1       0
##  9     9        7     1        0     1       0      0      0       0
## 10    10        0     0        0     0       1      0      0       0
## # ... with 591 more rows, and 10 more variables: notrel &lt;int&gt;,
## #   slghtrel &lt;int&gt;, smerel &lt;int&gt;, vryrel &lt;int&gt;, yrsmarr1 &lt;int&gt;,
## #   yrsmarr2 &lt;int&gt;, yrsmarr3 &lt;int&gt;, yrsmarr4 &lt;int&gt;, yrsmarr5 &lt;int&gt;,
## #   yrsmarr6 &lt;int&gt;
</code></pre>

<hr />

<h2 id="variables">Variables</h2>

<ul>
<li>Number of affairs: <em>naffairs</em></li>
<li>Have kids or not: <em>kids</em></li>
<li>Marriage happiness: <em>vryunhap</em>:<em>vryhap</em></li>
<li>Religous: <em>antirel</em>:<em>vryrel</em></li>
<li>Years married: <em>yrsmarr1</em>:<em>yrsmarr6</em></li>
</ul>

<hr />

<h2 id="lots-of-ways-to-do-this">Lots of ways to do this</h2>

<ul>
<li>One way: <code>rename</code>, <code>gather</code>, <code>separate</code>, <code>filter</code>, <code>spread</code>
For renaming I&rsquo;m using base again and you can probably see more clearly why I  prefer it</li>
</ul>

<pre><code class="language-r">names(affairs)[1] &lt;- &quot;id&quot;
names(affairs)[4:8] &lt;- paste0(&quot;marhap_&quot;, names(affairs)[4:8])
names(affairs)[9:13] &lt;- paste0(&quot;rel_&quot;, names(affairs)[9:13])
names(affairs)[14:19] &lt;- paste0(&quot;yrs_&quot;, names(affairs)[14:19])
affairs
</code></pre>

<pre><code>## # A tibble: 601 x 19
##       id naffairs  kids marhap_vryunhap marhap_unhap marhap_avgmarr
##    &lt;chr&gt;    &lt;int&gt; &lt;int&gt;           &lt;int&gt;        &lt;int&gt;          &lt;int&gt;
##  1     1        0     0               0            0              0
##  2     2        0     0               0            0              0
##  3     3        3     0               0            0              0
##  4     4        0     1               0            0              0
##  5     5        3     1               0            0              0
##  6     6        0     1               0            0              0
##  7     7        0     0               0            0              1
##  8     8        0     0               0            0              0
##  9     9        7     1               0            1              0
## 10    10        0     0               0            0              1
## # ... with 591 more rows, and 13 more variables: marhap_hapavg &lt;int&gt;,
## #   marhap_vryhap &lt;int&gt;, rel_antirel &lt;int&gt;, rel_notrel &lt;int&gt;,
## #   rel_slghtrel &lt;int&gt;, rel_smerel &lt;int&gt;, rel_vryrel &lt;int&gt;,
## #   yrs_yrsmarr1 &lt;int&gt;, yrs_yrsmarr2 &lt;int&gt;, yrs_yrsmarr3 &lt;int&gt;,
## #   yrs_yrsmarr4 &lt;int&gt;, yrs_yrsmarr5 &lt;int&gt;, yrs_yrsmarr6 &lt;int&gt;
</code></pre>

<hr />

<h2 id="gather-1"><code>gather</code></h2>

<pre><code class="language-r">affairs %&gt;% 
  gather(var, val, -id, -naffairs, -kids)
</code></pre>

<pre><code>## # A tibble: 9,616 x 5
##       id naffairs  kids             var   val
##    &lt;chr&gt;    &lt;int&gt; &lt;int&gt;           &lt;chr&gt; &lt;int&gt;
##  1     1        0     0 marhap_vryunhap     0
##  2     2        0     0 marhap_vryunhap     0
##  3     3        3     0 marhap_vryunhap     0
##  4     4        0     1 marhap_vryunhap     0
##  5     5        3     1 marhap_vryunhap     0
##  6     6        0     1 marhap_vryunhap     0
##  7     7        0     0 marhap_vryunhap     0
##  8     8        0     0 marhap_vryunhap     0
##  9     9        7     1 marhap_vryunhap     0
## 10    10        0     0 marhap_vryunhap     0
## # ... with 9,606 more rows
</code></pre>

<hr />

<h2 id="separate"><code>separate</code></h2>

<pre><code class="language-r">affairs %&gt;% 
  gather(var, val, -id, -naffairs, -kids) %&gt;% 
  separate(var, c(&quot;var&quot;, &quot;char_val&quot;))
</code></pre>

<pre><code>## # A tibble: 9,616 x 6
##       id naffairs  kids    var char_val   val
##  * &lt;chr&gt;    &lt;int&gt; &lt;int&gt;  &lt;chr&gt;    &lt;chr&gt; &lt;int&gt;
##  1     1        0     0 marhap vryunhap     0
##  2     2        0     0 marhap vryunhap     0
##  3     3        3     0 marhap vryunhap     0
##  4     4        0     1 marhap vryunhap     0
##  5     5        3     1 marhap vryunhap     0
##  6     6        0     1 marhap vryunhap     0
##  7     7        0     0 marhap vryunhap     0
##  8     8        0     0 marhap vryunhap     0
##  9     9        7     1 marhap vryunhap     0
## 10    10        0     0 marhap vryunhap     0
## # ... with 9,606 more rows
</code></pre>

<hr />

<h2 id="filter">Filter</h2>

<pre><code class="language-r">affairs %&gt;% 
  gather(var, val, -id, -naffairs, -kids) %&gt;% 
  separate(var, c(&quot;var&quot;, &quot;char_val&quot;)) %&gt;%
  filter(val == 1)
</code></pre>

<pre><code>## # A tibble: 1,803 x 6
##       id naffairs  kids    var char_val   val
##    &lt;chr&gt;    &lt;int&gt; &lt;int&gt;  &lt;chr&gt;    &lt;chr&gt; &lt;int&gt;
##  1    49       12     1 marhap vryunhap     1
##  2    64        0     1 marhap vryunhap     1
##  3    82        0     1 marhap vryunhap     1
##  4   138        0     1 marhap vryunhap     1
##  5   150       12     1 marhap vryunhap     1
##  6   206        7     1 marhap vryunhap     1
##  7   215        0     1 marhap vryunhap     1
##  8   275        3     1 marhap vryunhap     1
##  9   358        0     1 marhap vryunhap     1
## 10   371        0     1 marhap vryunhap     1
## # ... with 1,793 more rows
</code></pre>

<hr />

<h2 id="drop-val-and-spread">Drop val and <code>spread</code></h2>

<pre><code class="language-r">affairs %&gt;% 
  gather(var, val, -id, -naffairs, -kids) %&gt;% 
  separate(var, c(&quot;var&quot;, &quot;char_val&quot;)) %&gt;%
  filter(val == 1) %&gt;%  
  select(-val) %&gt;% 
  spread(var, char_val)
</code></pre>

<pre><code>## # A tibble: 601 x 6
##       id naffairs  kids  marhap      rel      yrs
##  * &lt;chr&gt;    &lt;int&gt; &lt;int&gt;   &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;
##  1     1        0     0  hapavg slghtrel yrsmarr5
##  2    10        0     0 avgmarr   notrel yrsmarr1
##  3   100        0     1  hapavg   smerel yrsmarr5
##  4   101        0     1  vryhap slghtrel yrsmarr6
##  5   102        0     0  vryhap   vryrel yrsmarr2
##  6   103        0     0  hapavg   notrel yrsmarr2
##  7   104        7     1  hapavg   notrel yrsmarr4
##  8   105        7     1  hapavg   notrel yrsmarr6
##  9   106        0     0  vryhap slghtrel yrsmarr3
## 10   107        0     1  vryhap   vryrel yrsmarr5
## # ... with 591 more rows
</code></pre>

<hr />

<h2 id="cleanup">Cleanup</h2>

<pre><code class="language-r">affairs_tidy &lt;- affairs %&gt;% 
  gather(var, val, -id, -naffairs, -kids) %&gt;% 
  separate(var, c(&quot;var&quot;, &quot;char_val&quot;)) %&gt;%
  filter(val == 1) %&gt;%  
  select(-val) %&gt;% 
  spread(var, char_val) %&gt;% 
  mutate(yrs = parse_number(yrs))

affairs_tidy
</code></pre>

<pre><code>## # A tibble: 601 x 6
##       id naffairs  kids  marhap      rel   yrs
##    &lt;chr&gt;    &lt;int&gt; &lt;int&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;
##  1     1        0     0  hapavg slghtrel     5
##  2    10        0     0 avgmarr   notrel     1
##  3   100        0     1  hapavg   smerel     5
##  4   101        0     1  vryhap slghtrel     6
##  5   102        0     0  vryhap   vryrel     2
##  6   103        0     0  hapavg   notrel     2
##  7   104        7     1  hapavg   notrel     4
##  8   105        7     1  hapavg   notrel     6
##  9   106        0     0  vryhap slghtrel     3
## 10   107        0     1  vryhap   vryrel     5
## # ... with 591 more rows
</code></pre>

<hr />

<h2 id="notice-what-we-ve-done">Notice what we&rsquo;ve done?</h2>

<ul>
<li>Essentially, in this case, we&rsquo;ve removed the dummy-coding

<ul>
<li>One of the most common ways data are not tidy</li>
</ul></li>
</ul>

<hr />

<h2 id="produce-a-plot">Produce a plot</h2>

<ul>
<li>Can you produce a plot showing the relation of yrs of marriage with the number of affairs by marriage happiness?</li>
</ul>

<hr />

<h2 id="plot-1">plot</h2>

<ul>
<li>Lots of different ways to do this, of course.</li>
</ul>

<pre><code class="language-r">ggplot(affairs_tidy, aes(yrs, naffairs, color = marhap)) + 
    geom_jitter(width = 0.2, height = 0) +
    geom_smooth(method = &quot;lm&quot;, se = FALSE) 
</code></pre>

<p><img src="../assets/fig/affairs_plot1-1.png" alt="plot of chunk affairs_plot1" /></p>

<hr />

<h2 id="alternative-plot">Alternative plot</h2>

<pre><code class="language-r">ggplot(affairs_tidy, aes(yrs, naffairs)) + 
    geom_violin() +
    geom_jitter(width = 0.2, height = 0) +
    facet_wrap(~marhap)
</code></pre>

<p><img src="../assets/fig/affairs_plot2-1.png" alt="plot of chunk affairs_plot2" /></p>

<hr />

<h2 id="yet-another-example">Yet another example</h2>

<pre><code class="language-r">ggplot(affairs_tidy, aes(yrs, naffairs)) + 
    geom_violin(aes(group = yrs), color = &quot;gray80&quot;, size = 2) + 
    geom_jitter(width = 0.2, height = 0, color = &quot;cornflowerblue&quot;, alpha = 0.4) +
    geom_smooth(method = &quot;lm&quot;, se = FALSE, aes(color = marhap)) +
    scale_color_brewer(palette = &quot;Set1&quot;)
</code></pre>

<p><img src="../assets/fig/affairs_plot3-1.png" alt="plot of chunk affairs_plot3" /></p>

<hr />

<h2 id="challenge-creating-dummies">Challenge: Creating dummies</h2>

<p>Try turning religion back to a dummy variable, like below</p>

<ul>
<li>Hint 1: You&rsquo;ll have to create a new variable.</li>
<li>Hint 2: Think about additional arguments you could pass to the functions you&rsquo;re using. Look at the documentation.</li>
</ul>

<pre><code>## # A tibble: 601 x 10
##       id naffairs  kids  marhap   yrs antirel notrel slghtrel smerel
##  * &lt;chr&gt;    &lt;int&gt; &lt;int&gt;   &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
##  1     1        0     0  hapavg     5       0      0        1      0
##  2    10        0     0 avgmarr     1       0      1        0      0
##  3   100        0     1  hapavg     5       0      0        0      1
##  4   101        0     1  vryhap     6       0      0        1      0
##  5   102        0     0  vryhap     2       0      0        0      0
##  6   103        0     0  hapavg     2       0      1        0      0
##  7   104        7     1  hapavg     4       0      1        0      0
##  8   105        7     1  hapavg     6       0      1        0      0
##  9   106        0     0  vryhap     3       0      0        1      0
## 10   107        0     1  vryhap     5       0      0        0      0
## # ... with 591 more rows, and 1 more variables: vryrel &lt;dbl&gt;
</code></pre>

<hr />

<pre><code class="language-r">affairs_tidy %&gt;% 
    mutate(const = 1) %&gt;% 
    spread(rel, const, fill = 0) 
</code></pre>

<pre><code>## # A tibble: 601 x 10
##       id naffairs  kids  marhap   yrs antirel notrel slghtrel smerel
##  * &lt;chr&gt;    &lt;int&gt; &lt;int&gt;   &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
##  1     1        0     0  hapavg     5       0      0        1      0
##  2    10        0     0 avgmarr     1       0      1        0      0
##  3   100        0     1  hapavg     5       0      0        0      1
##  4   101        0     1  vryhap     6       0      0        1      0
##  5   102        0     0  vryhap     2       0      0        0      0
##  6   103        0     0  hapavg     2       0      1        0      0
##  7   104        7     1  hapavg     4       0      1        0      0
##  8   105        7     1  hapavg     6       0      1        0      0
##  9   106        0     0  vryhap     3       0      0        1      0
## 10   107        0     1  vryhap     5       0      0        0      0
## # ... with 591 more rows, and 1 more variables: vryrel &lt;dbl&gt;
</code></pre>

      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="/page/classr/slides/w1p1/w1p1/" data-toggle="tooltip" data-placement="top" title="Oh the places you&#39;ll go!">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="/page/classr/slides/w7p2/w7p2/" data-toggle="tooltip" data-placement="top" title="More on Joins (lab)">Next Post &rarr;</a>
          </li>
        
      </ul>

      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'http-www-dandersondata-com';
    var disqus_identifier = '\/page\/classr\/slides\/w4p2\/w4p2\/';
    var disqus_title = 'More on tidy data';
    var disqus_url = '\/page\/classr\/slides\/w4p2\/w4p2\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:daniela@uoregon.edu" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/DJAnderson07" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/DJAnderson_07" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://stackoverflow.com/users/4959854/daniel-anderson" title="StackOverflow">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="http://www.dandersondata.com">Daniel Anderson</a>
                      
          
          
          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="/">Data Science in Education</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.24.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>




  </body>
</html>

